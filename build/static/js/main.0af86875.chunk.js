(this.webpackJsonpmessenger=this.webpackJsonpmessenger||[]).push([[0],{80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(16),r=a.n(n),o=(a(80),a(22)),i=(a(81),a(140)),l=a(135),j=a(67),d=a.n(j),u=a.p+"static/media/logo.598c4dd7.png",b=a(68),m=a.n(b),O=a(137),f=(a(82),a(7)),g=function(e){var t=e.children,a=e.length,c=void 0===a?180:a,n=t,r=Object(s.useState)(!0),i=Object(o.a)(r,2),l=i[0],j=i[1];return n.length<c?Object(f.jsx)("p",{children:n}):Object(f.jsxs)("p",{className:"text",children:[l?n.slice(0,150):n,Object(f.jsx)("span",{onClick:function(){j(!l)},className:"read-or-hide",children:l?" ...read more":" show less"})]})};function h(e){if(!e)return"just now";var t=new Date-e.toDate();return t/=1e3,(t=Math.floor(t))<5?"just now":t<60?"".concat(t," second").concat(1===t?"":"s"," ago"):(t/=60,(t=Math.floor(t))<60?"".concat(t," minute").concat(1===t?"":"s"," ago"):(t/=60,(t=Math.floor(t))<60?"".concat(t," hour").concat(1===t?"":"s"," ago"):(t/=24,(t=Math.floor(t))<30?"".concat(t," day").concat(1===t?"":"s"," ago"):(t/=30,(t=Math.floor(t))<12?"".concat(t," month").concat(1===t?"":"s"," ago"):(t/=12,t=Math.floor(t),"".concat(t," year").concat(1===t?"":"s"," ago"))))))}var x=function(e){var t=e.messages.username===e.username;return Object(f.jsxs)("div",{className:"message_div",children:[Object(f.jsx)("h5",{className:"sender ".concat(e.dark?"senderDark":""),children:"".concat(t?"":null===e.messages.username?"Unknown user":e.messages.username)}),Object(f.jsxs)("div",{className:"msgs ".concat(t?"user":"guest"," ").concat(e.dark?"msgsDark":""," "),children:[Object(f.jsx)(g,{children:e.messages.message}),Object(f.jsx)("p",{className:"time-stamp ".concat(e.dark?"time-stampDark":""),children:h(e.messages.timestamp)})]})]})},p=a(138),v=a(141),N=a(136),k=a(134),y=a(142);function C(e){var t=c.a.useState(""),a=Object(o.a)(t,2),s=a[0],n=a[1];return Object(f.jsx)("div",{children:Object(f.jsxs)(v.a,{open:e.open,onClose:e.close,"aria-labelledby":"form-dialog-title",children:[Object(f.jsx)(y.a,{id:"form-dialog-title",children:"Kindly Enter your name"}),Object(f.jsx)(k.a,{children:Object(f.jsx)(p.a,{autoFocus:!0,margin:"dense",id:"name",label:"Name",fullWidth:!0,onChange:function(e){return n(e.target.value)},inputProps:{style:{borderRadius:"0px"}}})}),Object(f.jsxs)(N.a,{children:[Object(f.jsx)(i.a,{onClick:function(){e.setUsername(s),e.close()},color:"primary",children:"Enter"}),Object(f.jsx)(i.a,{onClick:e.close,color:"primary",children:"Cancel"})]})]})})}var S=a(50),B=S.a.initializeApp({apiKey:"AIzaSyDBvyyqdV630DffF6sVYP6v3TZWZjHxamg",authDomain:"mui-message.firebaseapp.com",databaseURL:"https://mui-message-default-rtdb.firebaseio.com",projectId:"mui-message",storageBucket:"mui-message.appspot.com",messagingSenderId:"506461386312",appId:"1:506461386312:web:45f666e6778fed26d9ca7d",measurementId:"G-HVDGKL164W"}).firestore();var D=function(){var e=0;return function(){return e++}}(),M=function(){var e=Object(s.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(""),r=Object(o.a)(n,2),j=r[0],b=r[1],g=Object(s.useState)([]),h=Object(o.a)(g,2),p=h[0],v=h[1],N=Object(s.useState)(""),k=Object(o.a)(N,2),y=k[0],M=k[1],w=Object(s.useState)(!1),_=Object(o.a)(w,2),F=_[0],I=_[1],L=Object(s.useState)(!1),E=Object(o.a)(L,2),P=E[0],T=E[1],V=Object(s.useRef)(null);Object(s.useEffect)((function(){I(!0)}),[]),Object(s.useEffect)((function(){c(!0),console.log("setting true",a),B.collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){v(e.docs.map((function(e){return e.data()}))),c(!1)}))}),[]),Object(s.useEffect)((function(){U()}),[p]);var K,U=function(){var e;null===(e=V.current)||void 0===e||e.scrollIntoView({behavior:"auto"})},W=function(e){e.preventDefault(),""!==j.trim()&&B.collection("messages").add({username:y,message:j,timestamp:S.a.firestore.FieldValue.serverTimestamp()}),b("")};return K=Object(f.jsx)("input",{className:"input ".concat(P?"dark_input":"light_input"),placeholder:"Write Your Message",value:j,onChange:function(e){return b(e.target.value)}}),Object(f.jsxs)("div",{className:"App",children:[Object(f.jsxs)("nav",{className:"NavBar ".concat(P?"BlackNavBar":""),children:[Object(f.jsxs)("div",{className:"flex1",children:[Object(f.jsx)("img",{className:"Logo","aspect-ratio":"1/1",height:"auto",width:"82px",src:u,alt:"messenger-logo"}),Object(f.jsx)("h1",{className:"messenger ".concat(P?"blackName":""),children:"Messenger"})]}),Object(f.jsx)("div",{className:"flex2",children:Object(f.jsx)(i.a,{title:"toggle Dark Mode",variant:"contained",className:"dark",onClick:function(e){!1===P?(document.body.classList.add("dark-bg"),T(!0)):(document.body.classList.remove("dark-bg"),T(!1))},children:Object(f.jsx)(d.a,{})})})]}),a?Object(f.jsx)(O.a,{className:"loading"}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"scroll",children:[Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),p.map((function(e){return Object(f.jsx)(x,{messages:e,username:y,dark:P},D())})),Object(f.jsx)("div",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{})]}),Object(f.jsx)("div",{ref:V}),Object(f.jsxs)("div",{className:"div__footer",children:[Object(f.jsxs)("footer",{className:"".concat(P?"footer_dark":""),children:[Object(f.jsx)("div",{className:"content__footer",children:Object(f.jsxs)("div",{className:"sendNewMessage",children:[Object(f.jsx)("button",{className:"addfiles ".concat(P?"darkButton":""),children:Object(f.jsx)("i",{className:"fa fa-plus"})}),Object(f.jsx)("input",{className:"input ".concat(P?"dark_input":"light_input"),type:"text",placeholder:"Type a message",onChange:function(e){return b(e.target.value)},value:j,onKeyPress:function(e){13===e.keyCode&&W(e)}}),Object(f.jsx)("button",{className:"btnsend ".concat(P?"darkButtonSend":""),id:"sendMsgBtn",type:"submit",variant:"contained",onClick:W,children:Object(f.jsx)("i",{className:"fa fa-paper-plane"})})]})}),Object(f.jsxs)("form",{children:[Object(f.jsx)(l.a,{children:K}),Object(f.jsxs)(i.a,{className:"iconButton",onClick:W,type:"submit",variant:"contained",children:[" ",Object(f.jsx)(m.a,{})]})]})]}),Object(f.jsx)(C,{open:F,close:function(){return I(!1)},setUsername:M})]})]})]})},w=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,144)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),s(e),c(e),n(e),r(e)}))};r.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(M,{})}),document.getElementById("root")),w()}},[[93,1,2]]]);
//# sourceMappingURL=main.0af86875.chunk.js.map